(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();class X extends HTMLElement{timerId=null;timeElem;constructor(){super(),this.timeElem=document.createElement("span"),this.attachShadow({mode:"open"}).appendChild(this.timeElem)}connectedCallback(){this.updateTime(),this.setTimer()}disconnectedCallback(){this.timerId!==null&&clearTimeout(this.timerId)}updateTime(){const t=new Date,i=t.toLocaleDateString([],{weekday:"long"}),s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});this.timeElem.textContent=`${i}, ${s}`}setTimer(){const t=new Date,i=(60-t.getSeconds())*1e3-t.getMilliseconds();this.timerId=window.setTimeout(()=>{this.updateTime(),this.setTimer()},i)}}customElements.define("system-clock",X);const g=document.querySelector(".container");if(g){const h="https://nahornyioleh.be/fetch-sql-data-in-go/",t=document.createElement("div");t.id="golang_mysql-article",t.className="draggable-article",g.appendChild(t);const i=document.createElement("a");i.href=h,i.className="draggable-article__link",i.draggable=!1,t.appendChild(i);const s=document.createElement("img");s.src="/assets/img/golang_mariadb_hug_128.png",s.alt="Golang hugging MariaDB",s.decoding="async",s.className="draggable-article__image",i.appendChild(s);const n=document.createElement("span");n.textContent="Fetching Mysql data in Go",n.className="draggable-article__label",i.appendChild(n);const r="golang_mysql_article_position",u=()=>{try{const e=localStorage.getItem(r);if(!e)return null;const o=JSON.parse(e),a=o.left,l=o.top;if(typeof a=="number"&&typeof l=="number")return{left:a,top:l}}catch{}return null},_=(e,o)=>{try{localStorage.setItem(r,JSON.stringify({left:e,top:o}))}catch{}},y=()=>{const e=parseFloat(t.style.left||"0"),o=parseFloat(t.style.top||"0");!Number.isNaN(e)&&!Number.isNaN(o)&&_(e,o)};let m=!1,f=null,L=0,b=0,c=!1,C=0,E=0;const N=5,w=N*N,P=(e,o,a)=>Math.min(Math.max(e,o),a),S=(e,o)=>{const a=g.getBoundingClientRect(),l=Math.max(0,a.width-t.offsetWidth),p=Math.max(0,a.height-t.offsetHeight),d=P(e,0,l),x=P(o,0,p);t.style.left=`${d}px`,t.style.top=`${x}px`},D=()=>{const e=u();return e?(S(e.left,e.top),y(),!0):!1},M=()=>{const e=t.offsetWidth,o=t.offsetHeight;if(!e||!o)return!1;const a=getComputedStyle(document.documentElement).fontSize,l=parseFloat(a),d=2*(Number.isNaN(l)?16:l);return S(d,d),!0},I=()=>{D()||M()&&y()};s.complete?I():s.addEventListener("load",I,{once:!0});const q=e=>{if(e.button!==0&&e.pointerType==="mouse")return;f=e.pointerId,m=!0,c=!1,C=e.clientX,E=e.clientY;const o=t.getBoundingClientRect();L=e.clientX-o.left,b=e.clientY-o.top},O=e=>{if(!m||e.pointerId!==f)return;const o=e.clientX-C,a=e.clientY-E;if(!c){if(o*o+a*a<w)return;c=!0}t.classList.contains("dragging")||t.classList.add("dragging"),t.hasPointerCapture(e.pointerId)||t.setPointerCapture(e.pointerId);const l=g.getBoundingClientRect(),p=e.clientX-l.left-L,d=e.clientY-l.top-b;S(p,d)},T=e=>{!m||e.pointerId!==f||(m=!1,t.classList.remove("dragging"),t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),y(),f=null,e.type==="pointercancel"&&(c=!1))};t.addEventListener("pointerdown",q),t.addEventListener("pointermove",O),t.addEventListener("pointerup",T),t.addEventListener("pointercancel",T),i.addEventListener("click",e=>{c&&(e.preventDefault(),c=!1)}),i.addEventListener("dragstart",e=>{e.preventDefault()})}
