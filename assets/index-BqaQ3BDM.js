(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();class D extends HTMLElement{timerId=null;timeElem;constructor(){super(),this.timeElem=document.createElement("span"),this.attachShadow({mode:"open"}).appendChild(this.timeElem)}connectedCallback(){this.updateTime(),this.setTimer()}disconnectedCallback(){this.timerId!==null&&clearTimeout(this.timerId)}updateTime(){const t=new Date,i=t.toLocaleDateString([],{weekday:"long"}),s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});this.timeElem.textContent=`${i}, ${s}`}setTimer(){const t=new Date,i=(60-t.getSeconds())*1e3-t.getMilliseconds();this.timerId=window.setTimeout(()=>{this.updateTime(),this.setTimer()},i)}}customElements.define("system-clock",D);const f=document.querySelector(".container");if(f){const g="https://nahornyioleh.be/fetch-sql-data-in-go/",t=document.createElement("div");t.id="golang_mysql-article",t.className="draggable-article",f.appendChild(t);const i=document.createElement("a");i.href=g,i.target="_blank",i.rel="noopener noreferrer",i.className="draggable-article__link",i.draggable=!1,t.appendChild(i);const s=document.createElement("img");s.src="/assets/img/golang_mariadb_hug_128.png",s.alt="Golang hugging MariaDB",s.decoding="async",s.className="draggable-article__image",i.appendChild(s);const n=document.createElement("span");n.textContent="Fetching Mysql data in Go",n.className="draggable-article__label",i.appendChild(n);const r="golang_mysql_article_position",c=()=>{try{const e=localStorage.getItem(r);if(!e)return null;const o=JSON.parse(e),a=o.left,l=o.top;if(typeof a=="number"&&typeof l=="number")return{left:a,top:l}}catch{}return null},P=(e,o)=>{try{localStorage.setItem(r,JSON.stringify({left:e,top:o}))}catch{}},h=()=>{const e=parseFloat(t.style.left||"0"),o=parseFloat(t.style.top||"0");!Number.isNaN(e)&&!Number.isNaN(o)&&P(e,o)};let u=!1,m=null,S=0,b=0,d=!1;const L=(e,o,a)=>Math.min(Math.max(e,o),a),y=(e,o)=>{const a=f.getBoundingClientRect(),l=Math.max(0,a.width-t.offsetWidth),C=Math.max(0,a.height-t.offsetHeight),p=L(e,0,l),w=L(o,0,C);t.style.left=`${p}px`,t.style.top=`${w}px`},I=()=>{const e=c();return e?(y(e.left,e.top),h(),!0):!1},T=()=>{const e=t.offsetWidth,o=t.offsetHeight;if(!e||!o)return!1;const a=getComputedStyle(document.documentElement).fontSize,l=parseFloat(a),p=2*(Number.isNaN(l)?16:l);return y(p,p),!0},E=()=>{I()||T()&&h()};s.complete?E():s.addEventListener("load",E,{once:!0});const _=e=>{if(e.button!==0&&e.pointerType==="mouse")return;m=e.pointerId,u=!0,d=!1;const o=t.getBoundingClientRect();S=e.clientX-o.left,b=e.clientY-o.top,t.setPointerCapture(e.pointerId),t.classList.add("dragging")},x=e=>{if(!u||e.pointerId!==m)return;const o=f.getBoundingClientRect(),a=e.clientX-o.left-S,l=e.clientY-o.top-b;y(a,l),d=!0},N=e=>{!u||e.pointerId!==m||(u=!1,t.classList.remove("dragging"),t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),h(),m=null,e.type==="pointercancel"&&(d=!1))};t.addEventListener("pointerdown",_),t.addEventListener("pointermove",x),t.addEventListener("pointerup",N),t.addEventListener("pointercancel",N),i.addEventListener("click",e=>{d&&(e.preventDefault(),d=!1)}),i.addEventListener("dragstart",e=>{e.preventDefault()})}
